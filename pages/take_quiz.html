<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Take Quiz - StudyBuddy</title>
    <link rel="stylesheet" href="../css/take_quiz.css">
    <link rel="icon" type="image/png" href="../images/favicon.png">
    <script src="../Js/toast.js"></script>
    <script src="../Js/api.js"></script>
    <script src="../Js/take_quiz.js"></script>
</head>
<body>

    <div class="app_container">

        <!-- Left sidebar -->
        <aside class="sidebar">

            <div class="logo_section">
                <span class="logo_text"><span class="logo_text_study">Study</span><span class="logo_text_buddy">Buddy</span></span>
            </div>

            <nav class="sidebar_navigation">
                <a href="dashboard.html" class="nav_item">
                    <span class="nav_icon"></span>
                    Dashboard
                </a>

                <a href="my_notes.html" class="nav_item">
                    <span class="nav_icon"></span>
                    My Materials
                </a>

                <a href="quizzes.html" class="nav_item active">
                    <span class="nav_icon"></span>
                    Quizzes
                </a>

                <a href="study_plan.html" class="nav_item">
                    <span class="nav_icon"></span>
                    Study Plan
                </a>

                <a href="settings.html" class="nav_item">
                    <span class="nav_icon"></span>
                    Settings
                </a>
            </nav>

            <div class="folders_section">
                <div class="folders_header">
                    <span class="folders_title">FOLDERS</span>
                    <button class="add_folder_button_small" onclick="openFolderModal()">+</button>
                </div>

                <div class="folder_list">
                    <!-- Folders loaded from database -->
                </div>
            </div>

                <div class="folder_list">
                    <a href="#" class="folder_item">
                        <span class="folder_icon orange"></span>
                        Biology 101
                    </a>

                    <a href="#" class="folder_item">
                        <span class="folder_icon blue"></span>
                        History Essays
                    </a>

                    <a href="#" class="folder_item">
                        <span class="folder_icon green"></span>
                        Physics Labs
                    </a>
                </div>
            </div>

            </button>

        </aside>


        <!-- Main content area -->
        <main class="main_content">

            <header class="page_header">
                <div class="header_left">
                </div>

                <div class="header_right">
                    <div class="search_container">
                        <input type="text" class="search_input" placeholder="Search decks, quizzes...">
                    </div>

                    <img src="../images/user.jpg" alt="Profile" class="profile_picture">

                    <button class="logout_button" onclick="logout()">
                        Logout
                    </button>
                </div>
            </header>

            <div class="quiz_content">

                <!-- Quiz Header -->
                <div class="quiz_header">
                    <div class="quiz_info">
                        <h2 class="quiz_title" id="quizTitle">Biology 101 - Cell Structure</h2>
                        <p class="quiz_meta" id="quizMeta">10 Questions â€¢ Medium Difficulty</p>
                    </div>
                    <button class="exit_quiz_button" id="exitQuizButton">Exit Quiz</button>
                </div>

                <!-- Progress Bar -->
                <div class="progress_section">
                    <div class="progress_info">
                        <span class="progress_text" id="progressText">Question 1 of 10</span>
                        <span class="time_text" id="timeText">Time: 0:00</span>
                    </div>
                    <div class="progress_bar_container">
                        <div class="progress_bar" id="progressBar" style="width: 10%;"></div>
                    </div>
                </div>

                <!-- Question Card -->
                <div class="question_card">
                    <div class="question_number" id="questionNumber">Question 1</div>
                    <div class="question_text" id="questionText">What is the powerhouse of the cell?</div>

                    <div class="options_container" id="optionsContainer">
                        <div class="option_item" data-option="A">
                            <div class="option_label">A</div>
                            <div class="option_text">Nucleus</div>
                        </div>

                        <div class="option_item" data-option="B">
                            <div class="option_label">B</div>
                            <div class="option_text">Mitochondria</div>
                        </div>

                        <div class="option_item" data-option="C">
                            <div class="option_label">C</div>
                            <div class="option_text">Ribosome</div>
                        </div>

                        <div class="option_item" data-option="D">
                            <div class="option_label">D</div>
                            <div class="option_text">Endoplasmic Reticulum</div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="quiz_navigation">
                    <button class="nav_button secondary_button" id="previousButton" disabled>Previous</button>
                    <button class="nav_button primary_button" id="nextButton">Next</button>
                </div>

            </div>

        </main>

    </div>

    <!-- Exit Confirmation Modal -->
    <div class="modal" id="exitConfirmModal">
        <div class="modal_content small_modal">
            <div class="modal_header">
                <h3 class="modal_title">Exit Quiz?</h3>
                <button class="close_modal_button" id="closeExitModal">&times;</button>
            </div>

            <div class="modal_body">
                <p class="confirmation_text">Are you sure you want to exit? Your progress will be saved.</p>
            </div>

            <div class="modal_footer">
                <button class="modal_button secondary_button" id="cancelExitButton">Cancel</button>
                <button class="modal_button primary_button" id="confirmExitButton">Exit Quiz</button>
            </div>
        </div>
    </div>

    <!-- Submit Confirmation Modal -->
    <div class="modal" id="submitConfirmModal">
        <div class="modal_content small_modal">
            <div class="modal_header">
                <h3 class="modal_title">Submit Quiz?</h3>
                <button class="close_modal_button" id="closeSubmitModal">&times;</button>
            </div>

            <div class="modal_body">
                <p class="confirmation_text" id="submitConfirmText">You have answered 8 out of 10 questions. Are you sure you want to submit?</p>
            </div>

            <div class="modal_footer">
                <button class="modal_button secondary_button" id="cancelSubmitButton">Cancel</button>
                <button class="modal_button primary_button" id="confirmSubmitButton">Submit Quiz</button>
            </div>
        </div>
    </div>

</body>
</html>
